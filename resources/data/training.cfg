#textdomain wesnoth-cc

#wmllint: markcheck off

#define CONQUEST_TRAINER_DEFINITIONS
    [trainer]
        image=icons/cuirass_muscled.png
        name=_ "General"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_HP 5 10}
            {CC_CHANCE_XP 5 10}
            {CC_CHANCE_MP 5 10}
            {CC_CHANCE_MELEE 5 10}
            {CC_CHANCE_RANGED 5 10}
            {CC_CHANCE_STRIKES 5 10}
            {CC_CHANCE_ACCURACY 5 5}
            {CC_CHANCE_PARRY 5 5}
            {CC_CHANCE_HEAL_BOOST 5 5}
        [/grade]
    [/trainer]
    [trainer]
        image=icons/cuirass_muscled.png
        name=_ "Health"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_HP 33 5}
            {CC_CHANCE_HP 10 5}
        [/grade]
        [grade]
            {CC_CHANCE_HP 50 5}
            {CC_CHANCE_HP 20 5}
        [/grade]
    [/trainer]
    [trainer]
        image=icons/letter_and_ale.png
        name=_ "Experience"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_XP 33 5}
            {CC_CHANCE_XP 10 5}
        [/grade]
        [grade]
            {CC_CHANCE_XP 50 5}
            {CC_CHANCE_XP 20 5}
        [/grade]
    [/trainer]
    [trainer]
        image=icons/boots_elven.png
        name=_ "Movement"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_MP 33 5}
            {CC_CHANCE_MP 10 5}
        [/grade]
        [grade]
            {CC_CHANCE_MP 50 5}
            {CC_CHANCE_MP 20 5}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/halberd.png
        name=_ "Melee Damage"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_MELEE 33 5}
            {CC_CHANCE_MELEE 10 5}
        [/grade]
        [grade]
            {CC_CHANCE_MELEE 50 5}
            {CC_CHANCE_MELEE 20 5}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/ballista.png
        name=_ "Ranged Damage"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_RANGED 33 5}
            {CC_CHANCE_RANGED 10 5}
        [/grade]
        [grade]
            {CC_CHANCE_RANGED 50 5}
            {CC_CHANCE_RANGED 20 5}
        [/grade]
    [/trainer]    
    [trainer]
        image=attacks/dagger-thrown-human.png
        name=_ "Strikes"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_STRIKES 33 5}
            {CC_CHANCE_STRIKES 10 5}
        [/grade]
        [grade]
            {CC_CHANCE_STRIKES 50 5}
            {CC_CHANCE_STRIKES 20 5}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/bow-elven-magic.png
        name=_ "Accuracy"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ACCURACY 33 5}
            {CC_CHANCE_ACCURACY 10 5}
        [/grade]
        [grade]
            {CC_CHANCE_ACCURACY 50 5}
            {CC_CHANCE_ACCURACY 20 5}
        [/grade]
    [/trainer]    
    [trainer]
        image=attacks/saber-human.png
        name=_ "Parry"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_PARRY 33 5}
            {CC_CHANCE_PARRY 10 5}
        [/grade]
        [grade]
            {CC_CHANCE_PARRY 50 5}
            {CC_CHANCE_PARRY 20 5}
        [/grade]
    [/trainer]   
    [trainer]
        image=icons/heal-jade-1.png
        name=_ "Healing+"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_HEAL_BOOST 33 5}
            {CC_CHANCE_HEAL_BOOST 10 5}
        [/grade]
        [grade]
            {CC_CHANCE_HEAL_BOOST 50 5}
            {CC_CHANCE_HEAL_BOOST 20 5}
            {CC_CHANCE_HEAL_RANGE 5 1}
        [/grade]
    [/trainer]
    [trainer]
        image=icons/healing-1.png
        name=_ "Healthy"
        info=_ "<i>healthy</i>: always rest heals (2 HP)"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_HEALTHY 50}
            {CC_CHANCE_HEAL_BOOST 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=icons/haste-fire-2.png
        name=_ "Haste"
        info=_ "<i>haste</i>: on recall/recruit, can immediately move and act"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_HASTE 20}
            {CC_CHANCE_MP 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=icons/haste-royal-3.png
        name=_ "Fearless"
        info=_ "<i>fearless</i>: unaffected by negative time of day"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_FEARLESS 20}
            {CC_CHANCE_XP 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=icons/leader.png
        name=_ "Loyal"
        info=_ "<i>loyal</i>: 0 upkeep"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_LOYAL 10}
            {CC_CHANCE_XP 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/rune.png
        name=_ "Rally"
        info=_ "<i>rally</i>: +25%/level differential leadership within 2 hexes"
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ABILITY 5 RALLY}
            {CC_CHANCE_XP 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/steam-frenzy.png
        name=_ "Warcry"
        info=_ "On kill, regain 25% of own maximum HP."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ABILITY 1 WARCRY}
            {CC_CHANCE_STRIKES 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/cannon.png
        name=_ "Dauntless"
        info=_ "Offensively, +20 resists up to +50."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ABILITY 1 DAUNTLESS}
            {CC_CHANCE_MP 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/tornado.png
        name=_ "Galeforce"
        info=_ "Once per turn, if this unit kills an enemy, it regains its movement and attack."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ABILITY 1 GALEFORCE}
            {CC_CHANCE_MP 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/evil-eye-red-2.png
        name=_ "Relentless"
        info=_ "Once per turn, if this unit kills an enemy, it can attack again and gains the 'ward' buff for one turn.

<i>Ward</i>: Blocks one instance of nonlethal damage, until struck or end of turn."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ABILITY 2 RELENTLESS}
            {CC_CHANCE_HP 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/northern-wind.png
        name=_ "Hit and Away"
        info=_ "+1 MP after attacking. Does not stack with the nimble trait."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ABILITY 10 HIT_AND_AWAY}
            {CC_CHANCE_MP 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/sword-spirit.png
        name=_ "Physical: Accuracy"
        info=_ "<i>Skilled</i>: Minimum 60% accuracy."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ACCURACY 10 5}
            {CC_CHANCE_TYPE_SP 1 BLADE SKILLED}
            {CC_CHANCE_TYPE_SP 1 PIERCE SKILLED}
            {CC_CHANCE_TYPE_SP 1 IMPACT SKILLED}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/sword-spirit.png
        name=_ "Elemental: Accuracy"
        info=_ "<i>Magical</i>: 70% accuracy."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_PARRY 10 5}
            {CC_CHANCE_TYPE_SP 1 FIRE MAGICAL}
            {CC_CHANCE_TYPE_SP 1 COLD MAGICAL}
            {CC_CHANCE_TYPE_SP 1 ARCANE MAGICAL}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/circle-advance.png
        name=_ "Melee: Chivalry"
        info=_ "<i>Chivalry</i>: +33% damage if enemy at full HP."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_MELEE 10 5}
            {CC_CHANCE_RANGE_SP 5 MELEE CHIVALRY}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/blood-magic-2.png
        name=_ "Ranged: Execute"
        info=_ "<i>Execute</i>: +33% accuracy if enemy less than 33% HP."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_RANGED 10 5}
            {CC_CHANCE_RANGE_SP 5 RANGED EXECUTE}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/shockwave.png
        name=_ "Arc Damage"
        info=_ "<i>Arc Damage</i>: Deals 50% damage to enemies adjacent to both combatants."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_STRIKES 10 5}
            {CC_CHANCE_TYPE_SP 2 BLADE ARC_DAMAGE}
            {CC_CHANCE_TYPE_SP 2 FIRE ARC_DAMAGE}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/beam-red.png
        name=_ "Line Damage"
        info=_ "<i>Line Damage</i>: Deals 50% damage to the two enemies behind the enemy combatant as well."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ACCURACY 10 5}
            {CC_CHANCE_TYPE_SP 2 PIERCE LINE_DAMAGE}
            {CC_CHANCE_TYPE_SP 2 COLD LINE_DAMAGE}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/shockwave-red.png
        name=_ "Radial Damage"
        info=_ "<i>Radial Damage</i>: Deals 30% damage to enemies around self as well."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_MP 10 5}
            {CC_CHANCE_TYPE_SP 2 IMPACT RADIAL_DAMAGE}
            {CC_CHANCE_TYPE_SP 2 ARCANE RADIAL_DAMAGE}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/orc-armor-fist.png
        name=_ "Stun"
        info=_ "<i>Stun</i>: Accuracy is reduced by 10, ZoC and accuracy modifiers are disabled."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_HP 10 5}
            {CC_CHANCE_TYPE_SP 10 IMPACT STUN}
            {CC_CHANCE_TYPE_SP 10 FIRE STUN}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/gelid-aura.png
        name=_ "Slow"
        info=_ "<i>Slow</i>: Halves damage dealt and doubles movement costs."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_PARRY 10 5}
            {CC_CHANCE_TYPE_SP 10 BLADE SLOW}
            {CC_CHANCE_TYPE_SP 10 COLD SLOW}
        [/grade]
    [/trainer]
    [trainer]
        image=attacks/orb-light.png
        name=_ "Sunder"
        info=_ "<i>Vulnerable</i>: All resistances reduced by 20 for one combat."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_RANGED 10 5}
            {CC_CHANCE_TYPE_SP 10 PIERCE SUNDER}
            {CC_CHANCE_TYPE_SP 10 ARCANE SUNDER}
        [/grade]
    [/trainer]
    [trainer]
        image=icons/potion_red_medium.png
        name=_ "Martyr"
        info=_ "<i>Martyr</i>: On death, +4g and +4 BEXP."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ABILITY 33 MARTYR}
            {CC_CHANCE_HP 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=icons/scroll_red.png
        name=_ "Mentor"
        info=_ "<i>Mentor</i>: On kill, +2 BEXP/level of enemy killed."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ABILITY 33 MENTOR}
            {CC_CHANCE_XP 10 5}
        [/grade]
    [/trainer]
    [trainer]
        image=icons/coins_copper.png
        name=_ "Scavenger"
        info=_ "<i>Scavenger</i>: On kill, +2g/level of enemy killed."
        [grade]
        [/grade]
        [grade]
            {CC_CHANCE_ABILITY 33 SCAVENGER}
            {CC_CHANCE_MP 10 5}
        [/grade]
    [/trainer]
#enddef

## chance Macros

#define CC_CHANCE_HP CHANCE BOOST
    [chance]
        value={CHANCE}
        info= _"+$boost|% HP"
        [info_data]
            boost={BOOST}
        [/info_data]
        apply_to=hp
        increase={BOOST}
    [/chance]
#enddef

#define CC_CHANCE_XP CHANCE BOOST
    [chance]
        value={CHANCE}
        info= _"-$boost|% XP"
        [info_data]
            boost={BOOST}
        [/info_data]
        apply_to=xp
        increase={BOOST}
    [/chance]
#enddef

#define CC_CHANCE_MP CHANCE BOOST
    [chance]
        value={CHANCE}
        info= _"+$boost|% MP"
        [info_data]
            boost={BOOST}
        [/info_data]
        apply_to=mp
        increase={BOOST}
    [/chance]
#enddef

#define CC_CHANCE_MELEE CHANCE BOOST
    [chance]
        value={CHANCE}
        info= _"melee: +$boost|% damage"
        [info_data]
            boost={BOOST}
        [/info_data]
        apply_to=melee
        increase={BOOST}
    [/chance]
#enddef

#define CC_CHANCE_RANGED CHANCE BOOST
    [chance]
        value={CHANCE}
        info= _"ranged: +$boost|% damage"
        [info_data]
            boost={BOOST}
        [/info_data]
        apply_to=ranged
        increase={BOOST}
    [/chance]
#enddef

#define CC_CHANCE_STRIKES CHANCE BOOST
    [chance]
        value={CHANCE}
        info= _"attacks: +$boost|% strikes"
        [info_data]
            boost={BOOST}
        [/info_data]
        apply_to=strikes
        increase={BOOST}
    [/chance]
#enddef

#define CC_CHANCE_ACCURACY CHANCE BOOST
    [chance]
        value={CHANCE}
        info= _"attacks: +$boost|% accuracy"
        [info_data]
            boost={BOOST}
        [/info_data]
        apply_to=accuracy
        increase={BOOST}
    [/chance]
#enddef

#define CC_CHANCE_PARRY CHANCE BOOST
    [chance]
        value={CHANCE}
        info= _"attacks: +$boost|% parry"
        [info_data]
            boost={BOOST}
        [/info_data]
        apply_to=parry
        increase={BOOST}
    [/chance]
#enddef

#define CC_CHANCE_HEAL_BOOST CHANCE BOOST
    [chance]
        value={CHANCE}
        info= _"heals: +$boost|%"
        [info_data]
            boost={BOOST}
        [/info_data]
        apply_to=heal_boost
        increase={BOOST}
    [/chance]
#enddef

#define CC_CHANCE_HEAL_RANGE CHANCE BOOST
    [chance]
        value={CHANCE}
        info= _"heals: +$boost| range"
        [info_data]
            boost={BOOST}
        [/info_data]
        apply_to=heal_range
        increase={BOOST}
    [/chance]
#enddef

#define CC_CHANCE_ABILITY CHANCE ABILITY
    [chance]
        value={CHANCE}
        info={CC_STR_{ABILITY}}
        [filter]
            [not]
                ability={CC_STR_ID_{ABILITY}}
            [/not]
        [/filter]
        [effect]
            apply_to=new_ability
            [abilities]
                {ABILITY_{ABILITY}}
            [/abilities]
        [/effect]
    [/chance]
#enddef

#define CC_CHANCE_RANGE_SP CHANCE RANGE SPECIAL
    [chance]
        value={CHANCE}
        info=_"$range|: $special|"
        [info_data]
            range={CC_STR_{RANGE}}
            special={CC_STR_{SPECIAL}}
        [/info_data]
        [filter]
            [filter_wml]
                [attack]
                    range={CC_STR_ID_{RANGE}}
                [/attack]
                [not]
                    [attack]
                        range={CC_STR_ID_{RANGE}}
                        [specials]
                            {WEAPON_SPECIAL_{SPECIAL}}
                        [/specials]
                    [/attack]
                [/not]
            [/filter_wml]
        [/filter]
        [effect]
            apply_to=attack
            range={CC_STR_ID_{RANGE}}
            remove_specials={CC_STR_ID_{SPECIAL}}
            [set_specials]
                mode=append
                {WEAPON_SPECIAL_{SPECIAL}}
            [/set_specials]
        [/effect]
    [/chance]
#enddef

#define CC_CHANCE_TYPE_SP CHANCE TYPE SPECIAL
    [chance]
        value={CHANCE}
        info=_"$type|: $special|"
        [info_data]
            type={CC_STR_{TYPE}}
            special={CC_STR_{SPECIAL}}
        [/info_data]
        [filter]
            [filter_wml]
                [attack]
                    type={CC_STR_ID_{TYPE}}
                [/attack]
                [not]
                    [attack]
                        type={CC_STR_ID_{TYPE}}
                        [specials]
                            {WEAPON_SPECIAL_{SPECIAL}}
                        [/specials]
                    [/attack]
                [/not]
            [/filter_wml]
        [/filter]
        [effect]
            apply_to=attack
            type={CC_STR_ID_{TYPE}}
            remove_specials={CC_STR_ID_{SPECIAL}}
            [set_specials]
                mode=append
                {WEAPON_SPECIAL_{SPECIAL}}
            [/set_specials]
        [/effect]
    [/chance]
#enddef

#define CC_CHANCE_LOYAL CHANCE
    [chance]
        value={CHANCE}
        info=_ "loyal"
        [filter]
            [not]
                upkeep=loyal
            [/not]
        [/filter]
        [effect]
            apply_to=loyal
        [/effect]
    [/chance]
#enddef

#define CC_CHANCE_HASTE CHANCE
    [chance]
        value={CHANCE}
        info=_ "haste"
        [filter]
            [not]
                [filter_wml]
                    [status]
                        haste=yes
                    [/status]
                [/filter_wml]
            [/not]
        [/filter]
        [effect]
            apply_to="status"
            add="haste"
        [/effect]
    [/chance]
#enddef

#define CC_CHANCE_HEALTHY CHANCE
    [chance]
        value={CHANCE}
        info=_ "healthy"
        [filter]
            [not]
                [filter_wml]
                    [status]
                        healthy=yes
                    [/status]
                [/filter_wml]
            [/not]
        [/filter]
        [effect]
            apply_to=healthy
        [/effect]
        [effect]
            apply_to="status"
            add="healthy"
        [/effect]
    [/chance]
#enddef

#define CC_CHANCE_FEARLESS CHANCE
    [chance]
        value={CHANCE}
        info=_ "fearless"
        [filter]
            [not]
                [filter_wml]
                    [status]
                        fearless=yes
                    [/status]
                [/filter_wml]
            [/not]
            [not]
                [filter_wml]
                    alignment=neutral
                [/filter_wml]
            [/not]
        [/filter]
        [effect]
            apply_to="fearless"
        [/effect]
        [effect]
            apply_to="status"
            add="fearless"
        [/effect]
    [/chance]
#enddef

#wmllint: markcheck on
